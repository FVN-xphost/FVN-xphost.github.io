import{c as q,a as s,f as _}from"../chunks/CKMibBFv.js";import{o as le}from"../chunks/DI7r2WhF.js";import{p as ie,f as g,a as se,s as e,b as u,g as o,c as y,r as w,d as k,t as B}from"../chunks/Cc07MzFh.js";import{d as ne}from"../chunks/CaWCtbyN.js";import{i as $}from"../chunks/Dpqfz4Bt.js";import{m as L,e as ve,s as h,i as ce,a as fe}from"../chunks/DWq9HV2P.js";import{i as be,h as ue,c as de}from"../chunks/D-RcJbV-.js";import{s as m,t as r,f as l,r as N,a as pe}from"../chunks/BEsgQ-cv.js";import{s as we,a as P}from"../chunks/CDzMy1vF.js";var he=_('<button aria-label="存档" class="text-left px-2 w-full h-[6vh] shrink-0 bg-white text-black hover:bg-yellow-300 active:bg-black active:text-white cursor-pointer transition-opacity duration-400"><!></button>'),me=_(`<div class="flex flex-col absolute bottom-[10vh] h-[30vh] gap-1.5 left-0 right-0 w-[30vw] mx-auto
                    before:content-['主选单/存档'] before:absolute before:text-[0.75rem] before:text-yellow-300 before:-top-6 before:left-0"><div class="flex-3 flex flex-col overflow-auto gap-[1vh]"></div> <button aria-label="返回" class="w-full flex-1 bg-yellow-300 text-black hover:bg-white active:bg-black active:text-white cursor-pointer transition-opacity duration-400">返回</button></div>`),_e=_(`<div class="flex flex-col absolute border-white border border-solid bottom-[10vh] h-[30vh] p-1.5 gap-1.5 left-0 right-0 w-[20vw] mx-auto
                    before:content-['主选单/'] before:absolute before:text-[0.75rem] before:text-yellow-300 before:-top-6 before:left-0"><button aria-label="开始游戏" class="w-full flex-1 bg-yellow-300 text-black hover:bg-white active:bg-black active:text-white cursor-pointer transition-opacity duration-400">开始游戏</button> <button aria-label="画廊" class="w-full flex-1 bg-yellow-300 text-black hover:bg-white active:bg-black active:text-white cursor-pointer transition-opacity duration-400">画廊</button> <button aria-label="退出游戏" class="w-full flex-1 bg-yellow-300 text-black hover:bg-white active:bg-black active:text-white cursor-pointer transition-opacity duration-400">退出游戏</button></div> <div class="absolute border border-yellow-300 border-solid p-1.5 bottom-[10vh] h-[30vh] left-[50vw] right-0 w-[20vw] mx-auto
                    before:content-['制作成员/'] before:absolute before:text-[0.75rem] before:text-yellow-300 before:-top-6 before:left-0"><div class="w-full h-full flex flex-col gap-1.5 bg-gray-600 transition-opacity duration-400 *:shrink-0 *:text-white overflow-auto"></div></div>`,1),xe=_('<div class="animate-bounce text-yellow-300 absolute bottom-[40vh] w-screen flex items-center justify-center">单击以继续</div>'),ge=_(`<div class="absolute w-screen h-[30vh] bg-yellow-300 top-[20vh] left-0 right-0 flex flex-col items-center"><div class="flex-1 w-auto flex flex-col relative before:absolute before:bottom-2 before:-right-12 before:content-['v0.1.0']"><div class="text-black font-bold whitespace-nowrap" style="font-size: 16vh">第一次离别</div> <div class="flex-1 self-stretch px-2.5 bg-black text-yellow-300 mb-2.5 flex items-center justify-center"><div class="w-full h-px border border-t-gray-700 border-dashed"></div></div></div></div> <!>`,1),ye=_('<div class="fixed w-screen h-screen overflow-hidden bg-img-full bg-[url(/src/assets/Home/back.png)]" tabindex="0" role="button"><!></div>');function He(Q,R){ie(R,!0);const U=()=>P(L,"$mounted",E),j=()=>P(fe,"$saveData",E),[E,V]=we();let A=u(!1),C=u(!1),D=u(!1),H=u(!1),I=u(!1),F=u(!1),i=u(-1);le(async()=>{if(U()){e(i,0),e(A,!0),e(C,!0),e(D,!0),e(H,!0),e(I,!0),e(F,!0);return}L.set(!0),be(),e(A,!0),await m(1500),e(C,!0),await m(1500),e(i,0)});async function M(){o(i)===0&&(e(i,1),await m(300),e(D,!0),await m(300),e(H,!0),await m(300),e(I,!0),await m(300),e(F,!0))}var G=q(),X=g(G);{var Y=O=>{var v=ye();v.__click=M,v.__keydown=M,v.__keyup=M;var Z=y(v);{var ee=T=>{var J=ge(),K=g(J),te=k(K,2);{var ae=d=>{var n=me(),x=y(n);ve(x,21,()=>new Array(pe).fill(null),ce,(W,c,t)=>{var a=he();a.__click=()=>{N.push("/saves/"+(t+1))};var f=y(a);ue(f,()=>`<div>${j().saveInstance["save"+(t+1)].name?t+1+". "+j().saveInstance["save"+(t+1)].name+"</div><div>"+j().saveObject["save"+(t+1)].updateTime:t+1+". 空存档"}</div>`),w(a),B(()=>h(a,j().saveInstance[`save${t+1}`].name?"display: flex; align-items: center; justify-content: space-between;":"")),s(W,a)}),w(x);var S=k(x,2);S.__click=()=>{e(i,1)},w(n),B(()=>h(S,`opacity: ${o(I)?"1":"0"}`)),r(1,n,()=>l,()=>({duration:1500})),r(2,n,()=>l,()=>({duration:300})),s(d,n)},oe=d=>{var n=q(),x=g(n);{var S=c=>{var t=_e(),a=g(t),f=y(a);f.__click=async()=>{e(i,2)};var b=k(f,2);b.__click=()=>N.push("/gallery");var p=k(b,2);p.__click=()=>{de()},w(a);var z=k(a,2),re=y(z);w(z),B(()=>{h(f,`opacity: ${o(D)?"1":"0"}`),h(b,`opacity: ${o(H)?"1":"0"}`),h(p,`opacity: ${o(I)?"1":"0"}`),h(re,`opacity: ${o(D)?"1":"0"}`)}),r(1,a,()=>l,()=>({duration:1500})),r(2,a,()=>l,()=>({duration:300})),r(1,z,()=>l,()=>({duration:1500})),r(2,z,()=>l,()=>({duration:300})),s(c,t)},W=c=>{var t=q(),a=g(t);{var f=b=>{var p=xe();r(1,p,()=>l,()=>({duration:1500})),r(2,p,()=>l,()=>({duration:300})),s(b,p)};$(a,b=>{o(i)===0&&b(f)},!0)}s(c,t)};$(x,c=>{o(i)===1?c(S):c(W,!1)},!0)}s(d,n)};$(te,d=>{o(i)===2?d(ae):d(oe,!1)})}r(1,K,()=>l,()=>({duration:1500})),s(T,J)};$(Z,T=>{o(C)&&T(ee)})}w(v),r(1,v,()=>l,()=>({duration:1500})),s(O,v)};$(X,O=>{o(A)&&O(Y)})}s(Q,G),se(),V()}ne(["click","keydown","keyup"]);export{He as component};
