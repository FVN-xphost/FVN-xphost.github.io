import{c as st,a as f,f as v}from"../chunks/CKMibBFv.js";import{o as ot}from"../chunks/DI7r2WhF.js";import{p as lt,b as p,F as U,f as nt,a as it,s as n,g as t,c as z,d as m,r as A,t as Y}from"../chunks/Cc07MzFh.js";import{d as ct,s as ut}from"../chunks/CaWCtbyN.js";import{i as P}from"../chunks/Dpqfz4Bt.js";import{g as gt,b as D,e as ft,s as y,i as mt,a as dt}from"../chunks/DWq9HV2P.js";import{s as M,r as q,t as T,f as pt}from"../chunks/BEsgQ-cv.js";import{s as B}from"../chunks/Cz8faoEo.js";import{a as C,s as yt}from"../chunks/CDzMy1vF.js";import{q as j}from"../chunks/CqoA7lZ9.js";const E=""+new URL("../assets/galleryback.CAcMYmnN.png",import.meta.url).href;var vt=v('<button class="trans trans2 bg-img-full svelte-16h6p05" aria-labelledby="Click me!"></button>'),_t=v('<button class="trans svelte-16h6p05" aria-labelledby="Click me!"></button>'),bt=v('<div class="relative"><!> <!></div>'),ht=v('<div class="back bg-[url(/src/assets/Home/paper2.png)] fixed overflow-hidden left-0 top-0 w-screen h-screen grid grid-cols-3 grid-rows-2 bg-img-full"><!> <div style="position: fixed; bottom: 20px; right: 466px; z-index: 10000; font-size: 20px; font-weight: bold"> </div> <my-menu-button>上一页</my-menu-button> <my-menu-button>下一页</my-menu-button> <my-menu-button>返回</my-menu-button></div>',2);function qt(J,K){lt(K,!0);const u=()=>C(gt,"$galleryLock",b),Q=()=>C(D,"$galleryPage",b),_=()=>C(dt,"$saveData",b),[b,S]=yt();let h=p(U(new Array(u().length).fill(!1))),$=p(U(new Array(u().length).fill(!1))),F=p(!1);const i=6,d=Math.ceil(u().length/i);let e=p(1);async function G(a){n(e,a?t(e)-1:t(e)+1,!0),(t(e)>=1&&a||t(e)<=d&&!a)&&(D.set(t(e)),await H()),t(e)>=d?n(e,d,!0):t(e)<=1&&n(e,1)}async function H(){n(h,new Array(i).fill(!1),!0),n($,new Array(i).fill(!1),!0),await M(20);for(let a=0;a<u().length;a++)t(h)[a]=!0,await M(200),t($)[a]=!0}ot(async()=>{n(e,Q(),!0),n(F,!0),await M(400),await H()});function V(a){return{delay:0,duration:1500,easing:j,css:(s,c)=>`opacity: ${s}; transform: rotate(${c*20+10}deg)`}}function W(a){return{delay:0,duration:1500,easing:j,css:(s,c)=>`opacity: ${s}; transform: rotate(${c*20}deg)`}}var I=st(),X=nt(I);{var Z=a=>{var s=ht(),c=z(s);ft(c,1,()=>u().filter((O,r)=>{const g=t(e)-1;return r>=g*i&&r<g*i+i}),mt,(O,r,g)=>{var L=bt(),R=z(L);{var at=l=>{var o=vt();o.__click=()=>{(_()?.gallery??{})[`gallery${t(r).id}`]&&q.push(`/gallery/${t(r).id}`)},Y(()=>y(o,`background-image: url(${(_()?.gallery??{})[`gallery${t(r).id}`]?t(r).images[0]??E:E})`)),T(1,o,()=>W),f(l,o)};P(R,l=>{t($)[g]&&l(at)})}var et=m(R,2);{var rt=l=>{var o=_t();o.__click=()=>{(_()?.gallery??{})[`gallery${t(r).id}`]&&q.push(`/gallery/${t(r).id}`)},T(1,o,()=>V),f(l,o)};P(et,l=>{t(h)[g]&&l(rt)})}A(L),f(O,L)});var x=m(c,2),tt=z(x);A(x);var k=m(x,2);B(k,"click",()=>{G(!0)}),y(k,"position: fixed; bottom: 10px; right: 296px; z-index: 10000;");var w=m(k,2);B(w,"click",()=>{G(!1)}),y(w,"position: fixed; bottom: 10px; right: 156px; z-index: 10000;");var N=m(w,2);B(N,"click",()=>{D.set(1),q.push("/")}),y(N,"position: fixed; bottom: 10px; right: 16px; z-index: 10000;"),A(s),Y(()=>ut(tt,`页码：${t(e)??""} / ${d}`)),T(1,s,()=>pt,()=>({duration:1500})),f(a,s)};P(X,a=>{t(F)&&a(Z)})}f(J,I),it(),S()}ct(["click"]);export{qt as component};
